<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>一言API演示</title>
  <link rel="icon" href="./favicon.ico" sizes="any">
  <link rel="apple-touch-icon" href="./favicon.ico">

  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
  <link href="./main.css" rel="stylesheet">
  <link href="./fashion.css" rel="stylesheet">
  <script type="text/javascript" src="fashion.js"></script>
  <script type="text/javascript" src="main.js"></script>

</head>
<body>
<!-- 粒子背景画布 -->
    <canvas id="canvas"></canvas>
<!-- 页面内容 -->
    <div class="content">
  <header>
    <h1><i class="fas fa-quote-left"></i> 一言API演示</h1>
    <div class="subtitle" id="Random-hitokoto">随机获取一句优美的话语</div>
  </header>
  
  <div class="container">
    <div class="left-column">
      <div class="panel">
        <h2 class="panel-title clickable" id="get-random"><i class="fas fa-random"></i> 获取一言</h2>
        
        <div class="hitokoto-card">
          <div class="hitokoto-text" id="hitokoto-text">点击下方按钮获取一言</div>
          <div class="hitokoto-info" id="hitokoto-info"></div>
          <div class="hitokoto-meta" id="hitokoto-meta"></div>
        </div>
        
        <div class="controls">
          <!-- 句子类型选择 -->
          <div class="control-group">
            <div class="control-group-title"></i> 句子类型</div>
            <div class="category-list" id="category-list">
              <!-- 分类将通过JS动态生成 -->
            </div>
            <div class="info-text">提示：可多选分类，不选择则使用所有类型</div>
          </div>
          
          <!-- 句子长度控制 -->
          <div class="control-group">
            <div class="control-group-title"><i class="fas fa-ruler"></i> 句子长度</div>
            <div class="range-control">
              <span id="min-length-display">0</span>
              <input type="range" id="min-length" min="0" max="100" value="0" class="range-input">
            </div>
            <div class="range-control">
              <span id="max-length-display">30</span>
              <input type="range" id="max-length" min="1" max="100" value="30" class="range-input">
            </div>
          </div>
          
          <!-- 返回格式控制 -->
          <div class="form-row">
            <div class="form-col">
              <div class="control-group-title"><i class="fas fa-code"></i> 返回格式</div>
              <select id="encode-type" class="button">
                <option value="json">JSON</option>
                <option value="text">纯文本</option>
                <option value="js">JavaScript</option>
              </select>
            </div>
            
            <div class="form-col">
              <div class="control-group-title"><i class="fas fa-font"></i> 字符集</div>
              <select id="charset" class="button">
                <option value="utf-8">UTF-8</option>
                <option value="gbk">GBK</option>
              </select>
            </div>
          </div>
          
          <!-- 高级参数 -->
          <div class="form-row" id="js-params" style="display: none;">
            <div class="form-col">
              <div class="control-group-title"><i class="fas fa-signature"></i> 回调函数</div>
              <input type="text" id="callback" class="button" placeholder="例如：moe">
            </div>
            
            <div class="form-col">
              <div class="control-group-title"><i class="fas fa-crosshairs"></i> 选择器</div>
              <input type="text" id="selector" class="button" placeholder="例如：.hitokoto" value=".hitokoto-text">
            </div>
          </div>
          
          <!-- 排序方式 -->
          <div class="control-group">
            <div class="control-group-title"><i class="fas fa-sort"></i> 排序方式</div>
            <select id="sort" class="button">
              <option value="random">随机排序</option>
              <option value="length_asc">长度升序</option>
              <option value="length_desc">长度降序</option>
              <option value="newest">最新优先</option>
              <option value="oldest">最旧优先</option>
            </select>
          </div>
          
          <button id="get-hitokoto" class="button">
            <span id="button-text">获取一言</span>
            <span id="button-icon" class="button-icon"><i class="fas fa-magic"></i></span>
          </button>
          
          <div class="url-display" id="url-display">URL将在此显示...</div>
        </div>
      </div>
    </div>
    
    <div class="right-column">
      <div class="panel">
        <h2 class="panel-title"><i class="fas fa-code"></i> API响应</h2>
        <pre class="api-response" id="api-response">{
  "status": "等待请求..."
}</pre>
      </div>
      
      <div class="panel">
        <h2 class="panel-title"><i class="fas fa-book"></i> API使用说明</h2>
        <p>通过以下URL获取随机一言：</p>
        <pre class="api-response"><code>GET /api/hitokoto</code></pre>
        
        <div class="section-divider"></div>
        
        <div class="stats-container">
          <div class="stat-box">
            <div class="stat-label">句子类型</div>
            <div class="stat-value" id="stat-categories">12</div>
            <div class="stat-label">种</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">句子总数</div>
            <div class="stat-value" id="stat-sentences">7215</div>
            <div class="stat-label">条</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">平均长度</div>
            <div class="stat-value" id="stat-avg-length">25.13</div>
            <div class="stat-label">字</div>
          </div>
        </div>
        
        <h3>请求参数：</h3>
        <ul>
          <li><strong>c</strong> - 句子类型（可选，可多选），如：<code>?c=a&amp;c=b</code></li>
          <li><strong>encode</strong> - 返回格式（可选），值：<code>json</code>、<code>text</code> 或 <code极光v>js</code></li>
          <li><strong>charset</strong> - 字符集（可选），值：<code>utf-8</code> 或 <code>gbk</code></li>
          <li><strong>callback</strong> - 回调函数名（可选），当<code>encode=js</code>时使用</li>
          <li><strong>selector</strong> - 选择器（可选），当<code>encode=js</code>时使用，默认：<code>.hitokoto</code></li>
          <li><strong>min_length</strong> - 最小长度（可选）</li>
          <li><strong>max_length</strong> - 最大长度（可选）</li>
          <li><strong>sort</strong> - 排序方式（可选），值：<code>random</code>、<code>length_asc</code>、<code>length_desc</code>、<code>newest</code>、<code>oldest</code></li>
        </ul>
        
        <div class="section-divider"></div>
        
        <h3>返回格式：</h3>
        <pre class="api-response success">{
  "status": 200,
  "message": "ok.",
  "data": [
    {
      "id": 123,
      "hitokoto": "一言内容",
      "type": "类型",
      "from": "出处",
      "from_who": "作者",
      "creator": "提交者",
      "creator_uid": 提交者ID,
      "reviewer": 审核员ID,
      "uuid": "唯一标识符",
      "commit_from": "提交来源",
      "created_at": "创建时间",
      "length": 长度
    }
  ],
  "ts": 时间戳
}</pre>
      </div>
    </div>
  </div>
</div>  

</body>
</html>